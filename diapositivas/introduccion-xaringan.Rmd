---
title: "Introducción al paquete xaringan"
subtitle: "R-Ladies Xalapa"
session: ""
author: "Silvia Canelón, Ph.D."
institute: "University of Pennsylvania | Dept. of Biostatistics, Epidemiology, and Informatics"
date: "Diciembre 17, 2020"
output:
  xaringan::moon_reader:
    css: 
      - default
      - css/mi-tema.css
      - rladies
      - rladies-fonts
    lib_dir: libs
    seal: false
    self_contained: true
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
      ratio: "16:9"
      beforeInit: "macros.js"
---

```{r meta, echo=FALSE}
library(metathis)
meta() %>%
  meta_general(
    description = "An Introduction to xaringan for Presentations: The Basics and Beyond",
    generator = "xaringan and remark.js"
  ) %>% 
  meta_name("github-repo" = "spcanelon/xaringan-basics-and-beyond") %>% 
  meta_social(
    title = "Sharing Your Work with xaringan",
    url = "https://spcanelon.github.io/xaringan-basics-and-beyond",
    image = "https://github.com/spcanelon/xaringan-basics-and-beyond/blob/main/xaringan-nhsr-general.png",
    image_alt = "Title slide for the Sharing Your Work with xaringan workshop series",
    og_type = "website",
    og_author = "Silvia Canelon",
    twitter_card_type = "summary_large_image",
    twitter_creator = "@spcanelon"
  )
```

```{r configuracion, include = FALSE}
library(knitr)
library(tidyverse)
library(datos)
library(icon)
library(emo)
library(xaringanExtra)
# set default options
opts_chunk$set(echo=FALSE,
               collapse = TRUE,
               dpi = 300)

xaringanExtra::use_tile_view()
xaringanExtra::use_clipboard()
xaringanExtra::use_share_again()
xaringanExtra::style_share_again(
  share_buttons = c("twitter", "linkedin", "pocket")
)
```

class: center, middle, inverse

<img style="border-radius: 50%;" src="https://pbs.twimg.com/media/D5qAsCmUYAAzYtE?format=jpg&name=small"
width="150px"
/>&nbsp;
<img style="border-radius: 0%;" src="img/hex-xaringan.png"
width="125px"
/>

# `r rmarkdown::metadata$title`
## **`r rmarkdown::metadata$subtitle`**
----
### `r rmarkdown::metadata$author`
### `r rmarkdown::metadata$date`

[`r icon::fa("github", size = 1)` bit.ly/xaringan-xalapa](https://bit.ly/xaringan-xalapa)
[`r icon::fa("images")` diapositivas: ](spcanelon.github.io/xaringan-rladies-xalapa/diapositivas/introduccion-xaringan)

---
name: saludo
layout: false
class: inverse, middle, center

# Sobre mí

<img style="border-radius: 50%;" src="https://silvia.rbind.io/authors/silvia/avatar.png" width="150px"/>

## Silvia Canelón `r emo::ji("venezuela")`

### Investigadora Postdoctoral

.fade[University of Pennsylvania<br>Philadelphia, PA, USA]

[`r icon::fa("link")` silvia.rbind.io](https://silvia.rbind.io)
[`r icon::fa("twitter")` @spcanelon](https://twitter.com/spcanelon)
[`r icon::fa("github", size = 1)` @spcanelon](https://github.com/spcanelon)

---
class: center, middle

# Agradecimientos

--

## [R-Ladies Xalapa](https://www.meetup.com/rladies-xalapa)

--

### [`r emo::ji("package")` xaringan](https://github.com/yihui/xaringan#xaringan)
Hoy estaremos usando el [tema de R-Ladies](https://alison.rbind.io/post/2017-12-18-r-ladies-presentation-ninja/)

--

### [`r emo::ji("package")` xaringanExtra](https://github.com/gadenbuie/xaringanExtra/#xaringanExtra)
Presiona la tecla "O" para ver todas las diapositivas a la vez

---
name: pregunta
class: inverse, middle, center

{{content}}

---
template: pregunta

`r icon::fa("images", size = 3)`
# ¿Cómo podemos crear<br>presentaciones impresionantes con R?

--

----

## Con la ayuda de...

--

### remark.js

--

### xaringan

--

### CSS

---

## remark.js

----

.pull-left[
.center[
### <i class="fab fa-js fa-3x"></i><br>JavaScript

### **y**

### <i class="fab fa-markdown fa-3x"></i><br>Markdown
]
]

.pull-right[
> Una herramienta sencilla para presentaciones de diapositivas basadas en Markdown a traves del navegador web.

```{r}
knitr::include_url("https://remarkjs.com", height = "375px")
```
[https://remarkjs.com](https://remarkjs.com)
]

---
##  xaringan

----

.pull-left[
.center[
![:scale 25%](img/hex-xaringan.png)

**xaringan** es un paquete que le presenta<br>`remark.js` a R Markdown

![:scale 15%](img/hex-rmarkdown.png)
]]
.pull-right[
```{r}
knitr::include_url("https://slides.yihui.org/xaringan")
```
[https://slides.yihui.org/xaringan](https://slides.yihui.org/xaringan)
]

---
## CSS

----

**CSS** significa **C**ascading **S**tyle **S**heet y es una hoja de estilo que convierte...
.pull-left[
Contenido HTML que es funcional, pero aburrido...

<img src="img/ej-sin-css.png"
width="100%" style="border:2px solid rgba(136, 57, 138, 0.3)"/>
]

.pull-right[
...¡en contenido HTML con estilo! `r emo::ji("sunglasses")`

<img src="img/ej-con-css.png"
width="100%" style="border:2px solid rgba(136, 57, 138, 0.3)"/>
]

???
Remark nos ayuda a:
- crear una diapositiva nueva (usando sintaxis de Markdown y propiedades de la diapositiva);
- formatear la diapositiva (p.ej. con alineación del texto);
- y presentar (usando atajos de teclado)

---
template: pregunta

`r icon::fa("question-circle", size = 3)`
# ¿Cómo creamos una presentacion?

--

----

## **Primera opción:** Crear una presentación desde cero

--

## **Segunda opción:** Usar la plantilla hecha para R-Ladies Xalapa 

### `r icon::fa("link")` [tutorial/ejemplo-de-diapositivas.Rmd](https://github.com/spcanelon/xaringan-rladies-xalapa/blob/master/tutorial/ejemplo-de-diapositivas.Rmd)

---

## `r icon::fa("file")` Creando una presentación desde cero

.pull-left[
### 1\. `r emo::ji("page_facing_up")` New File

### 2\. `r emo::ji("page_facing_up")` New R Markdown

![:scale 75%](img/rmd-xaringan-1.png)
]

--

.pull-right[
### 3\. `r emo::ji("memo")` From Template `r icon::fa("angle-double-right")` Ninja Presentation

![:scale 75%](img/rmd-xaringan-2.png)

### 4\. `r emo::ji("floppy_disk")` ¡Ahora guarda tu nuevo documento!
]

---
name: en-vivo
background-color: var(--morado-claro)
class: middle, center, inverse

`r icon::fa("code", size = 3)`
# Demo en vivo

---
template: en-vivo

## ¡Comencemos!

---

## `r icon::fa("file-alt")` Usar la plantilla hecha para R-Ladies Xalapa

### YAML

```{r, eval=FALSE, echo=TRUE}
---
title: "Título de la Presentación"
subtitle: "Subtítulo de la Presentación"
author: "Nombre de la autora"
institute: "R-Ladies Xalapa"
date: "Fecha"
output:
  xaringan::moon_reader:                 # ¡Ojo -- nuevo tipo de salida!
    css:                                 #<<
     - default                           # el archivo CSS del tema predeterminado for xaringan #<<
     - rladies                           # el archivo CSS del tema R-Ladies #<<
     - rladies-fonts                     # el archivo CSS de fuentes del tema R-Ladies #<<
    lib_dir: libs                        # crea un directorio para bibliotecas
    seal: false                          # false: permite crear una diapositiva de título personalizada #<<
    nature:
      highlightStyle: github             # resalta sintaxis para los bloques de código
      highlightLines: true               # true: permite resaltar líneas de código  
      countIncrementalSlides: false      # false: disables counting of incremental slides
      ratio: "4:3"                       # proporción: "16:9" para un tamaño de pantalla ancha  #<<
---
```

---
## `r icon::fa("file-alt")` Usar la plantilla hecha para R-Ladies Xalapa

### El bloque de configuración ("setup")

````{r setup, include = TRUE, echo=TRUE}
library(knitr)                              # paquete que trae funciones utiles para R Markdown
library(tidyverse)                          # paquete que trae varios paquetes comunes en el tidyverse
library(datos)                              # paquete que viene con datos populares traducidos al español :)
library(icon)                               # paquete para iconos
library(emo)                                # paquete para emojis

# opciones predeterminadas
knitr::opts_chunk$set(echo = FALSE,         # FALSE: los bloques de código NO se muestran
                      dpi = 300,            # asegura gráficos de alta resolución
                      warning = FALSE,      # los mensajes de advertencia NO se muestran
                      error = FALSE)        # los mensajes de error NO se muestran
```

--

`r icon::fa("star", color = "#e5bf00")` El bloque de configuración no se muestra en ninguna diapositiva gracias a la opción `include = FALSE`

--

`r icon::fa("star", color = "#e5bf00")` El contenido para la primera diapositiva comienza justo debajo de los tres guiones (`---`) al final del YAML

---

## `r icon::fa("rocket")` ¡Vamos a generar las diapositivas! 

### ¡Con la función del Moon Reader (_lector de luna?_) podemos ver cambios en tiempo real! 

--

**Primera opción**. Ejecute la función xaringan `infinite_moon_reader()` o `inf_mr()` en tu consola `r emo::ji("rocket")` 

```{r eval=FALSE, echo=TRUE}
xaringan::inf_mr()
```

--

**Segunda opción**. "Teje" el documento con el botón Knit de RStudio `r emo::ji("yarn")` 

---
template: en-vivo

## ¡A generar las diapositivas!

---

# Sintaxis de xaringan

### ¿Qué notas en el código que te parece conocido?

--

.pull-left[

### Tal vez conocido de **Markdown**

- Encabezados (#, ##, ###)
- **Negrita** y _cursiva_
- Enlaces con `[]()`
- Listas de puntos que se pueden crear con `-`, `+`, or `*`
- Listas enumeradas que se pueden crear con `1.`
]

--

.pull-right[
### Esto no es tan conocido, y viene de **remark.js**
- La primera diapositiva comienza después del YAML
- Diapositivas se separan una de otra con<br>tres guiones (`---`)
- Diapositivas incrementales se separan con<br>dos guiones (`--`)
- Contenido de la diapositiva se separa de las notas de la presentadora con tres signos de interrogación (`???`)
]


---

## Title slide

.pull-left[
### Code
![](img/code-title-slide.png)
This is the very first slide after the YAML so it doesn't need to begin with `---`]
.pull-right[
### Slide
<img src="img/sample-title-slide.png" width="100%" 
style="border:2px solid #E8EDEE"/> 
]

---
## Inverse slide

.pull-left[
### Code
![](img/code-inverse-slide.png)]

.pull-right[
### Slide
<img src="img/sample-inverse-slide.png" width="100%" 
style="border:0px solid #E8EDEE"/> 
]

---
## Incremental slides

.pull-left[
### Code
![](img/code-incremental-slides.png)]

.pull-right[
### Slide
<img src="img/sample-incremental-slides.png" width="100%" style="border:2px solid #E8EDEE"/> 
]

---

---
template: pregunta

`r icon::fa("magic", size = 3)`
# ¿Cómo introducimos contenido un poco más interesante?

--

----

### `r icon::fa("th-large")`&nbsp;&nbsp; ubicación

--

### `r icon::fa("image")`&nbsp;&nbsp;imagenes lindas

---
name: ubicacion
## Ubicación <i class="fas fa-th-large" style = "float: right"></i>

---
template: ubicacion

### Alinear una dispositiva completa

.left-column[

Horizontalmente

```r
left,
*center,
right
```

----

Verticalmente

```r
top, 
*middle, 
bottom 
```
]

--

.right-column[

```r
---

*class: center, middle

# Diapositiva con contenido centrado y en el medio de la diapositiva

Este contenido tambien esta centrado y en el medio de la diapositiva

---
```

.right[.morado-claro[ejemplo en la diapositiva que sigue `r icon::fa("arrow-circle-right")` ]]
]

---
class: center, middle

# Diapositiva con contenido centrado y en el medio de la diapositiva

Este contenido tambien esta centrado y en el medio de la diapositiva


---
template: ubicacion

### Alinear solo parte del texto

.left-column[
Solamente horizontalmente

```r
*.left[palabras]
.center[palabras]
*.right[palabras]
```
]

--

.right-column[
```r
---

class: center, middle 

# Diapositiva con algo de texto alineado

*.left[Podemos comenzar a escribir una oración a mano izquierda...]

*.right[...y terminar a mano derecha.]

---
```

.right[.morado-claro[example on next slide `r icon::fa("arrow-circle-right")` ]]

]

---
class: center, middle

# Diapositiva con algo de texto alineado

.left[Podemos comenzar a escribir una oración a mano izquierda...]

.right[...y terminar a mano derecha.]

---
template: ubicacion

### Jalar el contenido a un lado de la diapositiva

.pull-left[
**La clase `.pull-left[]` (_jalar-izquierda_) jala contenido al<br>47% izquierdo**

Como el texto arriba y<br>la etiqueta hexagonal de abajo

![:scale 25%](img/hex-rmarkdown.png)
]

--

.pull-right[
**Y la clase `.pull-right[]` (_jalar-derecha_) jala contenido al<br>47% derecho**

Ya has visto hoy el uso de estas clases de contenido `r emo::ji("smile")`
<br>

![:scale 30%](img/hex-xaringan.png)

]

--

El uso de estas clases no tiene por que ocupar la diapositiva entera. Por ejemplo, puedes decidir que quieres continuar escribiendo texto que no sea jalado para ningun lado.

---
template: ubicacion

### Organizar el contenido en un diseño de dos columnas

.left-column[
**`.left-column[]` (_columna-izquierda_) coloca el contenido en una columna que tiene un 20% de ancho de la diapositiva**

Y el texto es un poco más claro.
]

--

.right-column[
**`.right-column[]` (_columna-derecha-) coloca contenido en una columna que tiene un 75% de ancho de la diapositiva**
- Tambien tiene un _poquito_ de relleno por arriba

- Y a diferencia de las clases de contenido `.pull` (_jalar_), estas clases de columnas estan fijas para la diapositiva entera
- Estas clases de columnas estan diseñadas para usarse juntas

.center[
![:scale 15%](img/hex-xaringan.png)]
]

---
name: imagenes
## Pictures <i class="fas fa-image" style = "float: right"></i>

---
template: imagenes

### There are a variety of ways to add images to your slides

### Markdown
.pull-left[

```{markdown, eval=FALSE, echo=TRUE}
![](img/jacarandas.jpg)
```

- simple
- not very flexible
- output size fully dependent on the size of the image, but scaling can be managed [using custom macros (JavaScript functions) ](https://slides.yihui.org/xaringan/#33)
 
.small[
Photo by [Annie Spratt](https://unsplash.com/@anniespratt)]
]

.pull-right[
![](img/jacarandas.jpg)
]

---
template: imagenes

### knitr

.pull-left[

```{r picture-knitr, eval=TRUE, echo=TRUE, fig.show="hide"}
knitr::include_graphics("img/jacarandas.jpg")
```
- pretty flexible
- a little bulky
- more options [here](https://www.rdocumentation.org/packages/knitr/versions/1.30/topics/include_graphics)
]

.pull-right[
```{r, ref.label="picture-knitr", out.width="90%"}
```
]

---
template: imagenes

### HTML
.pull-left[
```{html, eval=FALSE, echo=TRUE}
<img src="img/jacarandas.jpg" width="90%"/>
```
- most flexible
- a bit unsightly
- takes time to [get used to syntax](https://www.w3schools.com/html/html_images.asp)

.small[**Tip:** To insert an avatar: 
```{html, eval=FALSE, echo=TRUE}
<img src="https://insertweblink.here" width="170px" style="border-radius: 50%;"/>
```
]
]

.pull-right[
<img src="img/jacarandas.jpg" width="90%"/>
]

---
template: imagenes

### Image sources

Below you'll see a few places where you can find beautiful and free background images contributed by artists all over world.

**Tip:** You can use the `.footnote[]` class to credit the source of the image ([example here](https://spcanelon.github.io/xaringan-basics-and-beyond/slides/day-01-basics.html)) `r emo::ji("slightly_smiling_face")`

.pull-left[
- [unsplash.com](unsplash.com)
- [rawpixel.com](rawpixel.com)
- [pexels.com](https://www.pexels.com/)
]

.pull-right[
> - In the public domain<br>
  (no attribution necessary)
> - Free with attribution<br>
  (e.g. Photo by [Junel Mujar](https://unsplash.com/@junelmujar))
]

---
template: imagenes

### Image paths

.pull-left[
R Markdown and xaringan don't always agree on where images are located<br>(i.e. relative file paths). 

You might find that `knitr::include_graphics()` produces an image from a code chunk in your Rmd, and that the same image may not show up when you render your xaringan slides. `r emo::ji("woman_shrugging")`
]

.pull-right[
I recommend using this directory structure to help avoid confusion<br>(example file path: `img/jacarandas.jpg`)

```{r eval=FALSE, echo=TRUE}
.
├── img #<<
    ├── jacarandas.jpg #<<
├── libs
├── ejemplo-de-diapositivas.Rmd
└── ejemplo-de-diapositivas.html
```
]

---
template: imagenes

### Background

You can use the [background-image property](https://github.com/gnab/remark/wiki/Markdown#background-image) underneath the `---` slide separator

- `background-image:` 
  - `url(https://enlaceweb.aqui)` --> image from the web
  - `url(img/jacarandas.jpg)` --> local image, using relative file paths
- `background-size:`
    - `cover` --> rescales + crops with no empty space
    - `contain` --> rescales only
- `background-position:` play with [this](https://css-tricks.com/almanac/properties/b/background-position/)


.right[.morado-claro[`background-size` examples in action! `r icon::fa("arrow-circle-right")` ]]


---
background-image: url(img/jacarandas.jpg)
class: top, center

# **No background-size**
**Image size: 3999x3005**

---
background-image: url(img/jacarandas.jpg)
background-size: cover
class: top, center

# **Cover**

---
background-image: url(img/jacarandas.jpg)
background-size: contain
background-color: var(--morado-oscuro)
class: middle, center

.fondo-blanco[
# **Contain**
]

---
name: practicar
class: inverse

.left-column[
## Para practicar<br>`r icon::fa("edit")`<br>
]

.right-column[
### Haz una diapositiva para saludar a tu audiencia

----

Piense en incluir detalles como tu<br>
nombre, instituto, ubicación, y/o información de contacto 

Aqui hay algunas opciones:
- practique cambiando [la ubicación](#ubicacion) del contenido en la diapositiva
- separa tu contenido con una barra horizontal `----`
- agreque una [imagen](#imagenes) o foto
- agregue un enlace a una página web o red social
]

---
template: pregunta

`r icon::fa("r-project", size = 3)`
# ¿Qué tal contenido de R?

--

----

### `r icon::fa("table")`&nbsp;&nbsp; tablas

--

### `r icon::fa("chart-bar")`&nbsp;&nbsp; gráficos

---
name: tablas
## Tablas <i class="fas fa-table" style = "float: right"></i>

---
template: tablas

### Salida directa

```{r, echo=TRUE}
datos::pinguinos %>% 
  head()
```

---
template: tablas

### Tabla HTML


```{r, echo=TRUE, eval=TRUE}
datos::pinguinos %>% 
  head() %>%
  knitr::kable(format = "html")
```

---
template: tablas

### Tabla DT


```{r, echo=TRUE}
datos::pinguinos %>% 
  head() %>%
  DT::datatable()
```

---
template: tablas

### Tabla GT


```{r, echo=TRUE, eval=TRUE}
datos::pinguinos %>% 
  head() %>%
  gt::gt()
```

---
name: graficos
## Gráficos <i class="fas fa-chart-bar" style = "float: right"></i>

---
template: graficos
name: grafico-derecha

.pull-left[
### Code

```{r grafico-derecha, echo=TRUE, fig.show='hide'}
datos::pinguinos %>%
  ggplot(aes(x = especie, y = masa_corporal_g)) +
  geom_boxplot(aes(fill = isla))
```
]

.pull-right[

### Plot

```{r, ref.label="grafico-derecha"}
```

]

---
name: practicar
class: inverse

.left-column[
## Para practicar<br>`r icon::fa("edit")`<br>
]

.right-column[
### Haz una nueva dispositiva y practique agregando contenido de R

----

Aqui hay unas opciones:
- agregue una [tabla](#tablas)
- agregue un [gráfico](#graficos)
]

---
template: pregunta

`r icon::fa("share-alt", size = 3)`
# ¿Cómo compartimos nuestras diapositivas?

--

----

### **Primera opción:** Con "self_contained: TRUE" en el YAML para `r icon::fa("paper-plane")`

--

### **Segunda opción:** Alojando tus archivos en un repositorio para `r icon::fa("link")`

---
template: en-vivo

## ¡Vamos a compartir las diapositivas!

---
class: adios, inverse, middle, left

.pull-left[
<img style="border-radius: 50%;" src="https://silvia.rbind.io/authors/silvia/avatar.png" width="170px"/>
# Muchísimas gracias!

### Aqui es donde me puedes conseguir...

.right[
[silvia.rbind.io `r icon::fa("link")`](https://silvia.rbind.io)<br/>
[@spcanelon `r icon::fa("twitter")`](https://twitter.com/spcanelon)<br/>
[@spcanelon `r icon::fa("github")`](https://github.com/spcanelon)<br/>
]]

---
template: pregunta

`r icon::fa("exclamation", size = 3)`
# ¡Aqui comienza material extra!

---
# Resaltando los bloques de código

Otras opciones que ofrece **remark.js** para resaltar tu código con [highlightStyle](https://github.com/gnab/remark/wiki/Configuration#highlighting) son:

  + `arta`, `ascetic`, `dark`, `default`, `far`, `github`, `googlecode`,   `idea`, `ir-black`, `magula`, `monokai`, `rainbow`, `solarized-dark`, `solarized-light`, `sunburst`, `tomorrow`, `tomorrow-night-blue`, `tomorrow-night-bright`, `tomorrow-night`, `tomorrow-night-eighties`, `vs`, `zenburn`.

---

## Creando código+gráfico lado-a-lado

Aqui aprovechamos las opciones de los bloques para evitar repetir el código<sup/>1</sup>

1. Código a la izquierda, gráfico a la derecha ([example](#grafico-derecha))

  - Bloque 1: `{r grafico-derecha, fig.show = 'hide'}`
  - Bloque 2: `{r ref.label = 'grafico-derecha', echo = FALSE}`

2. Gráfico a la izquierda, código a la derecha
  - Bloque 1: `{r grafico-izquierda, echo = FALSE}`
  - Bloque 2: `{r ref.label = 'grafico-izquierda', fig.show = 'hide'}`

.footnote[
1. Estos consejos y más en la charla de Alison Hill titulada ["Teaching in Production"](https://rstudio-education.github.io/teaching-in-production/slides/index.html#46)
]

---
class: left

## Agregando iconos

.center[

`r emo::ji("smile")`<br>
Emoji: Use el [`r emo::ji("package")` emo(ji)](https://github.com/hadley/emo#emoji)

----

<i class="fas fa-brain"></i>
<br>
[FontAwesome](https://fontawesome.com/icons?d=gallery&c=medical&m=free)

Copia y pega html directamente de la página web:<br>`<i class="fas fa-brain"></i>`<br>
Use el [`r emo::ji("package")` icon](https://slides.mitchelloharawild.com/icon/) o el [`r emo::ji("package")` fontawesome ](https://github.com/rstudio/fontawesome#the-fontawesome-package)

----

`r icon::ai("orcid")`<br>
[Academicons](https://jpswalsh.github.io/academicons/)
<br>La forma más facil para acceder estos iconos es con el `r emo::ji("package")` icon:<br>` r icon::fa("orcid")`
]
